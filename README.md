# 用户输入助手
## 一、目录结构：

- bin: 存放可执行文件
- src: 存放源文件
- conf: 存放配置文件
- data: 存放词典文件和cache文件
- include: 存放头文件
- log: 存放日志文件
- SCclient: 存放客户端源文件和可执行文件
- GenDict: 存放第一阶段离线部分相关文件
    1) bin: 存放可执行文件
    2) src: 存放源文件
    3) include: 存放头文件
    4) data: 存放语料库、通用词和cppjieba所需数据文件
    5) conf: 存放配置文件

## 二、项目内容
### 1.第一阶段离线部分(词典和索引文件)

- 根据语料库创建中英文词典，中文分词需要用到cppjieba分词库，词典中记录的格式为:  word frequency
- 根据词典文件创建中英文索引文件，为后续阶段做准备

### 2.第二阶段(搭框架)

用C++封装线程、socket相关接口，将线程池，网络编程模块内容组合起来，将客户端传递过来的查询词封装成任务，交给线程池处理，最后将处理好的结果直接发送给客户端。

### 3.第三阶段(业务逻辑)

获取到客户端传递过来的查询词（对JSON协议进行解析）后，再从索引查找与之相近的候选词，选择最合适的候选词发送给客户端。
- 候选词选取：
    1) 核心算法：最小编辑距离
    2) 候选词选择策略：
        a. 优先比较最小编辑距离 
        b. 在编辑距离相同的条件下，词频大的优先
        c. 词频相同的条件下，按字母表顺序
    3) 使用优先级队列获取k个候选词，返回给客户端
- 服务器和客户端发送的数据都采用JSON数据格式封包，然后先发送数据长度，再发送内容的方式进行发送。

### 4.第四阶段(优化)(缓存系统)(日志)

- 缓存系统：分为内存cache和磁盘cache，每次启动时从磁盘读入cache文件初始化内存cache，在线服务时，每隔一段时间将内存cache回写磁盘。当cache中记录的个数超过100时，用LRU算法淘汰最近最少使用的数据。
- 日志系统：对log4cpp进行封装，实现可变参数的日志记录，用来记录重要信息。
